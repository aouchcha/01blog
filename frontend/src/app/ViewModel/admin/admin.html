<div class="dashboard-container">
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="logo">
            <div class="logo-icon"></div>
            <span class="logo-text">O1Blog</span>
            <span class="admin-badge">admin</span>
        </div>

        <nav class="nav-menu">
            <a (click)="ToDashboard()" class="nav-item">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_40_855)">
                        <path
                            d="M3.5 13.2002H8.16699C8.33253 13.2004 8.4668 13.3344 8.4668 13.5V16.5C8.4668 16.6656 8.33253 16.7996 8.16699 16.7998H3.5C3.33431 16.7998 3.2002 16.6657 3.2002 16.5V13.5C3.2002 13.3343 3.33432 13.2002 3.5 13.2002ZM11.833 9.86621H16.5C16.6657 9.86621 16.7998 10.0013 16.7998 10.167V16.5C16.7998 16.6657 16.6657 16.7998 16.5 16.7998H11.833C11.6675 16.7996 11.5332 16.6656 11.5332 16.5V10.167C11.5332 10.0014 11.6675 9.86639 11.833 9.86621ZM3.5 3.2002H8.16699C8.33253 3.20037 8.4668 3.33442 8.4668 3.5V9.83301C8.4668 9.99859 8.33253 10.1336 8.16699 10.1338H3.5C3.33431 10.1338 3.2002 9.99869 3.2002 9.83301V3.5C3.2002 3.33431 3.33432 3.2002 3.5 3.2002ZM11.833 3.2002H16.5C16.6657 3.2002 16.7998 3.33431 16.7998 3.5V6.5C16.7998 6.66569 16.6657 6.7998 16.5 6.7998H11.833C11.6675 6.79963 11.5332 6.66558 11.5332 6.5V3.5C11.5332 3.33442 11.6675 3.20037 11.833 3.2002Z"
                            stroke="#681C28" stroke-width="1.4" />
                    </g>
                    <defs>
                        <clipPath id="clip0_40_855">
                            <rect width="20" height="20" fill="white" />
                        </clipPath>
                    </defs>
                </svg>
                <span>Dashboard</span>
            </a>
            <a (click)="ShowReports()" class="nav-item">
                <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M11.0348 6.45084C11.0286 6.92435 10.6188 7.30287 10.1195 7.29629C9.62025 7.28971 9.22058 6.90052 9.22682 6.42702C9.23306 5.95351 9.64285 5.57499 10.1421 5.58157C10.6414 5.58815 11.041 5.97733 11.0348 6.45084Z"
                        fill="#FFFEFE" />
                    <path
                        d="M10.0997 8.79667C10.4742 8.8016 10.7739 9.09349 10.7693 9.44862L10.7128 13.7354C10.7081 14.0906 10.4008 14.3745 10.0263 14.3695C9.65187 14.3646 9.35212 14.0727 9.35679 13.7176L9.41328 9.43076C9.41796 9.07563 9.7253 8.79174 10.0997 8.79667Z"
                        fill="#FFFEFE" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M12.2397 2.17285C11.2707 0.79007 9.14015 0.761992 8.13497 2.11876L7.73738 2.65542C5.24642 6.01767 3.09716 9.59657 1.3184 13.3442L1.2345 13.5209C0.607658 14.8416 1.50837 16.3625 3.02454 16.5434C7.65157 17.0956 12.3284 17.1572 16.9683 16.7271C18.4888 16.5862 19.4292 15.0896 18.8374 13.7529L18.7582 13.574C17.0788 9.78079 15.0246 6.14651 12.6231 2.7198L12.2397 2.17285ZM9.24489 2.85919C9.70179 2.24248 10.6702 2.25524 11.1107 2.88378L11.494 3.43073C13.8481 6.78976 15.8617 10.3523 17.508 14.0705L17.5872 14.2494C17.8255 14.7877 17.4468 15.3903 16.8346 15.4471C12.2948 15.8679 7.71907 15.8076 3.19199 15.2673C2.58148 15.1944 2.21879 14.582 2.4712 14.0503L2.5551 13.8735C4.29873 10.1999 6.40554 6.69169 8.8473 3.39585L9.24489 2.85919Z"
                        fill="#FFFEFE" />
                    <path
                        d="M11.0348 6.45084C11.0286 6.92435 10.6188 7.30287 10.1195 7.29629C9.62025 7.28971 9.22058 6.90052 9.22682 6.42702C9.23306 5.95351 9.64285 5.57499 10.1421 5.58157C10.6414 5.58815 11.041 5.97733 11.0348 6.45084Z"
                        stroke="#C2CFE0" stroke-linejoin="round" />
                    <path
                        d="M10.0997 8.79667C10.4742 8.8016 10.7739 9.09349 10.7693 9.44862L10.7128 13.7354C10.7081 14.0906 10.4008 14.3745 10.0263 14.3695C9.65187 14.3646 9.35212 14.0727 9.35679 13.7176L9.41328 9.43076C9.41796 9.07563 9.7253 8.79174 10.0997 8.79667Z"
                        stroke="#C2CFE0" stroke-linejoin="round" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M12.2397 2.17285C11.2707 0.79007 9.14015 0.761992 8.13497 2.11876L7.73738 2.65542C5.24642 6.01767 3.09716 9.59657 1.3184 13.3442L1.2345 13.5209C0.607658 14.8416 1.50837 16.3625 3.02454 16.5434C7.65157 17.0956 12.3284 17.1572 16.9683 16.7271C18.4888 16.5862 19.4292 15.0896 18.8374 13.7529L18.7582 13.574C17.0788 9.78079 15.0246 6.14651 12.6231 2.7198L12.2397 2.17285ZM9.24489 2.85919C9.70179 2.24248 10.6702 2.25524 11.1107 2.88378L11.494 3.43073C13.8481 6.78976 15.8617 10.3523 17.508 14.0705L17.5872 14.2494C17.8255 14.7877 17.4468 15.3903 16.8346 15.4471C12.2948 15.8679 7.71907 15.8076 3.19199 15.2673C2.58148 15.1944 2.21879 14.582 2.4712 14.0503L2.5551 13.8735C4.29873 10.1999 6.40554 6.69169 8.8473 3.39585L9.24489 2.85919Z"
                        stroke="#C2CFE0" stroke-linejoin="round" />
                </svg>
                <span>Reports</span>
                <span class="notification-badge" *ngIf="report_count > 0">{{report_count}}</span>
            </a>
            <!-- <a href="#" class="nav-item">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_40_849)">
                        <path
                            d="M3.33366 4.03352H16.6667C17.1967 4.03352 17.6335 4.47025 17.6335 5.00032V15.0003C17.6333 15.5302 17.1966 15.9671 16.6667 15.9671H3.33366C2.8037 15.9671 2.36704 15.5302 2.36686 15.0003L2.37468 5.00032L2.37956 4.90071C2.42916 4.41285 2.84109 4.03352 3.33366 4.03352Z"
                            stroke="#C2CFE0" stroke-width="1.4" />
                        <path d="M2.5 5L10 10L17.5 5" stroke="#C2CFE0" stroke-width="1.4" />
                    </g>
                    <defs>
                        <clipPath id="clip0_40_849">
                            <rect width="20" height="20" fill="white" />
                        </clipPath>
                    </defs>
                </svg>
                <span>Inbox</span>
            </a> -->
        </nav>

        <div class="user-profile">
            <!-- <img src="avatar-placeholder.jpg" alt="User" class="profile-avatar"> -->
            <div class="profile-info">
                <div class="profile-name">{{admin.username}}</div>
                <div class="profile-email"> {{admin.email}} </div>
            </div>
        </div>

        <button class="signout-btn" (click)="Logout()">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M13 10.7C13.3866 10.7 13.7 10.3866 13.7 10C13.7 9.6134 13.3866 9.3 13 9.3L13 10L13 10.7ZM2.50503 9.50502C2.23166 9.77839 2.23166 10.2216 2.50503 10.495L6.9598 14.9497C7.23316 15.2231 7.67638 15.2231 7.94975 14.9497C8.22311 14.6764 8.22311 14.2332 7.94975 13.9598L3.98995 10L7.94975 6.0402C8.22312 5.76683 8.22312 5.32362 7.94975 5.05025C7.67638 4.77688 7.23317 4.77688 6.9598 5.05025L2.50503 9.50502ZM13 10L13 9.3L3 9.3L3 10L3 10.7L13 10.7L13 10Z"
                    fill="#681C28" />
                <path
                    d="M10 6.5V5.5C10 4.11929 11.1193 3 12.5 3H14.5C15.8807 3 17 4.11929 17 5.5V14.5C17 15.8807 15.8807 17 14.5 17H12.5C11.1193 17 10 15.8807 10 14.5V14"
                    stroke="#681C28" stroke-width="1.5" stroke-linecap="round" />
            </svg>
            <span>Signout</span>
        </button>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Search Bar -->
        <div class="search-container">
            <input type="text" class="search-input" [(ngModel)]="search" placeholder="search..." (input)="Filter()">
            <button class="search-btn">
                <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M11.8779 10.4169C12.0889 10.6513 12.0889 11.0029 11.8545 11.2138L11.1982 11.8701C10.9873 12.1044 10.6357 12.1044 10.4014 11.8701L8.08105 9.54974C7.96387 9.43256 7.91699 9.29193 7.91699 9.15131V8.75287C7.07324 9.40912 6.04199 9.78412 4.91699 9.78412C2.22168 9.78412 0.0419922 7.60443 0.0419922 4.90912C0.0419922 2.23724 2.22168 0.0341187 4.91699 0.0341187C7.58887 0.0341187 9.79199 2.23724 9.79199 4.90912C9.79199 6.05756 9.39355 7.08881 8.76074 7.90912H9.13574C9.27637 7.90912 9.41699 7.97943 9.53418 8.07318L11.8779 10.4169ZM4.91699 7.90912C6.55762 7.90912 7.91699 6.57318 7.91699 4.90912C7.91699 3.26849 6.55762 1.90912 4.91699 1.90912C3.25293 1.90912 1.91699 3.26849 1.91699 4.90912C1.91699 6.57318 3.25293 7.90912 4.91699 7.90912Z"
                        fill="white" />
                </svg>
            </button>
        </div>

        <!-- Filter Icon -->
        <button class="filter-btn"></button>

        <!-- Table -->
        <div class="table-container" (scroll)="handleScrollLogic($event)">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Published Posts</th>
                        <th>Reporte Count</th>
                        <th>IsBanned</th>
                    </tr>
                </thead>
                <tbody >
                    <tr *ngFor="let u of filtredUsers" >
                        <td class="user-cell" (click)="ToProfile(u.username)">
                            <!-- <img src="avatar-placeholder.jpg" alt="User" class="user-avatar"> -->
                            <span class="user-name">{{u.username}}</span>
                        </td>
                        <td class="email-cell">{{u.email}}</td>
                        <td class="post-count">{{u.postCount}}</td>
                        <td class="report-cell">{{u.reportCount}}</td>
                        <td class="activity-cell">{{u.baned}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>
</div>