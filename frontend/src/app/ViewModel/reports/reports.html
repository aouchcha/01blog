<div class="reports-container">
    <!-- Header -->
    <header class="reports-header">
        <div class="header-content">
            <div class="header-left">
                <button class="back-button" (click)="ToDashBoard()">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15 10H5M5 10l4-4M5 10l4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    Back to Dashboard
                </button>
                <h1>Reports Management</h1>
            </div>
            <div class="header-stats">
                <div class="stat-badge">
                    <span class="stat-number">{{reports?.length || 0}}</span>
                    <span class="stat-label">Total Reports</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="reports-main">
        <!-- Empty State -->
        <div class="empty-state" *ngIf="!reports || reports.length === 0">
            <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M40 10v60M10 40h60" stroke="#ccc" stroke-width="4" stroke-linecap="round"/>
                <circle cx="40" cy="40" r="35" stroke="#ccc" stroke-width="4"/>
            </svg>
            <h3>No Reports Found</h3>
            <p>There are currently no reports to review.</p>
        </div>

        <!-- Reports Grid -->
        <div class="reports-grid" *ngIf="reports && reports.length > 0">
            <div class="report-card" *ngFor="let report of reports">
                <!-- Report Header -->
                <div class="report-card-header">
                    <div class="user-section reporter-section">
                        <div class="section-label">Reporter</div>
                        <div class="user-info">
                            <img src="../../assets/icons/pngtree-outline-user-icon-png-image_5045523.jpg" 
                                 alt="Reporter" 
                                 class="user-avatar">
                            <div class="user-details">
                                <span class="user-name">{{ report.repporter.username }}</span>
                                <span class="user-email" *ngIf="report.repporter.email">{{ report.repporter.email }}</span>
                            </div>
                        </div>
                    </div>

                    <div class="divider-vertical"></div>

                    <div class="user-section reported-section">
                        <div class="section-label">Reported</div>
                        <div class="user-info">
                            <img src="../../assets/icons/pngtree-outline-user-icon-png-image_5045523.jpg" 
                                 alt="Reported" 
                                 class="user-avatar">
                            <div class="user-details">
                                <span class="user-name">{{ report.repported.username }}</span>
                                <span class="user-email" *ngIf="report.repported.email">{{ report.repported.email }}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Report Body -->
                <div class="report-card-body">
                    <div class="description-label">Description</div>
                    <p class="report-description">{{ report.description }}</p>
                </div>

                <!-- Report Footer -->
                <div class="report-card-footer">
                    <div class="report-time" *ngIf="report.createdAt">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 4v4l3 1.5M14 8A6 6 0 112 8a6 6 0 0112 0z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                        <span>{{ report.createdAt | date:'medium' }}</span>
                    </div>
                    <div class="report-actions">
                        <button class="action-btn view-btn" (click)="ViewDetails(report)">
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M1 9s3-6 8-6 8 6 8 6-3 6-8 6-8-6-8-6z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                <circle cx="9" cy="9" r="2.5" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                            View Details
                        </button>
                        <button class="action-btn resolve-btn" (click)="ResolveReport(report.id)">
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15 4.5L6.75 12.75 3 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            Resolve
                        </button>
                        <button class="action-btn delete-btn" (click)="DeleteReport(report.id)">
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M2.25 4.5h13.5M7.5 8.25v4.5M10.5 8.25v4.5M3 4.5l.75 10.5c0 .825.675 1.5 1.5 1.5h7.5c.825 0 1.5-.675 1.5-1.5L15 4.5M6.75 4.5V3c0-.825.675-1.5 1.5-1.5h1.5c.825 0 1.5.675 1.5 1.5v1.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            Delete
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Report Details Modal -->
        <div class="modal-overlay" *ngIf="showDetailsModal" (click)="CloseModal()">
            <div class="modal-content" (click)="$event.stopPropagation()">
                <div class="modal-header">
                    <h2>Report Details</h2>
                    <button class="modal-close-btn" (click)="CloseModal()">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="detail-section">
                        <label>Reporter:</label>
                        <div class="detail-user">
                            <img src="../../assets/icons/pngtree-outline-user-icon-png-image_5045523.jpg" 
                                 alt="Reporter" 
                                 class="detail-avatar">
                            <div>
                                <div class="detail-name">{{selectedReport?.repporter.username}}</div>
                                <div class="detail-email" *ngIf="selectedReport?.repporter.email">{{selectedReport?.repporter.email}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="detail-section">
                        <label>Reported User:</label>
                        <div class="detail-user">
                            <img src="../../assets/icons/pngtree-outline-user-icon-png-image_5045523.jpg" 
                                 alt="Reported" 
                                 class="detail-avatar">
                            <div>
                                <div class="detail-name">{{selectedReport?.repported.username}}</div>
                                <div class="detail-email" *ngIf="selectedReport?.repported.email">{{selectedReport?.repported.email}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="detail-section">
                        <label>Description:</label>
                        <p class="detail-description">{{selectedReport?.description}}</p>
                    </div>
                    <div class="detail-section" *ngIf="selectedReport?.createdAt">
                        <label>Reported On:</label>
                        <p class="detail-time">{{selectedReport?.createdAt | date:'full'}}</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="modal-btn resolve-modal-btn" (click)="ResolveReport(selectedReport?.id)">
                        Resolve Report
                    </button>
                    <button class="modal-btn delete-modal-btn" (click)="DeleteReport(selectedReport?.id)">
                        Delete Report
                    </button>
                </div>
            </div>
        </div>
    </main>
</div>